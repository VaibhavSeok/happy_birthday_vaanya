<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday Vaanya - Aurora Night Edition">
    <title>Happy Birthday Vaanya | Aurora Night ‚ú®</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Background Audio Element -->
    <audio id="backgroundMusic" preload="auto">
        <source src="LoveMeLikeYouDoooaaa.mp3" type="audio/mpeg">
        <source src="LoveMeLikeYouDoooaaa.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div id="wrapper">
        <!-- Aurora Background Animation -->
        <div class="aurora">
            <div class="aurora__item aurora__item--1"></div>
            <div class="aurora__item aurora__item--2"></div>
            <div class="aurora__item aurora__item--3"></div>
            <div class="aurora__item aurora__item--4"></div>
        </div>

        <!-- Animated Stars -->
        <div class="stars">
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
            <div class="star"></div>
        </div>

        <div class="flag__birthday">
            <img src="./images/1.png" alt="" class="flag__left">
            <img src="./images/1.png" alt="" class="flag__right">
        </div>
        
        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="./images/hat.png" alt="" width="130">
                    </div>
                </div>
                <div class="date__of__birth">
                    <span>02/8/2010   </span>
                </div>
                <div class="btn">
                    <button id="btn__letter" class="aurora-btn">
                        <span class="btn-content">
                            <i class="fa-solid fa-heart-pulse"></i>
                            Click here Wifey
                            <i class="fa-solid fa-music"></i>
                        </span>
                        <div class="btn-glow"></div>
                    </button>
                </div>
            </div>
            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="./images/wifey.jpg" alt="">
                        <div class="image-glow"></div>
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>Vaanya</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="">
                    </div>
                </div>
                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </div>

        <!-- Decorative elements -->
        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>
        
        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        
        <div class="decorate_bottom">
            <img src="./images/decorate.png" alt="" width="100">
        </div>
        <div class="smiley__icon">
            <img src="./images/smiley_icon.png" alt="" width="100">
        </div>

        <!-- Multi-slide Birthday Carousel -->
        <div class="slides__container">
            <div class="slides__wrapper">
                <div class="slide active" data-theme="girlish-pink">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.unsplash.com/photo-1732889451635-ae00768af49c?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzB8MHwxfHNlYXJjaHwxfHxjdXRlJTIwY291cGxlJTIwY2FydG9vbnxlbnwwfHx8fDE3NTY2MjM2OTN8MA&ixlib=rb-4.1.0&q=85" alt="Cute Couple Holding Hands">
                        </div>
                        <div class="slide__text">
                            <h2>My Sweet Vaanya üíï</h2>
                            <p>Like two hearts intertwined under the magical aurora, our love story began with a simple touch that changed everything forever.</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="romantic-purple">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.unsplash.com/photo-1743964451771-abf993f87b66?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzB8MHwxfHNlYXJjaHwyfHxjdXRlJTIwY291cGxlJTIwY2FydG9vbnxlbnwwfHx8fDE3NTY2MjM2OTN8MA&ixlib=rb-4.1.0&q=85" alt="Romantic Couple Kiss">
                        </div>
                        <div class="slide__text">
                            <h2>Your Gentle Love üíú</h2>
                            <p>Every kiss feels like the first snow of winter - pure, magical, and filling my heart with the warmest feelings in the coldest nights.</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="heart-red">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.unsplash.com/photo-1581709718771-d6180b90ff89?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2Njd8MHwxfHNlYXJjaHwxfHxyb21hbnRpYyUyMGhlYXJ0c3xlbnwwfHx8cmVkfDE3NTY2MjQ5NDV8MA&ixlib=rb-4.1.0&q=85" alt="Heart Door">
                        </div>
                        <div class="slide__text">
                            <h2>Door to My Heart ‚ù§Ô∏è</h2>
                            <p>You opened the door to my heart and painted it with colors more beautiful than any Finnish aurora could ever be.</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="love-hearts">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.unsplash.com/photo-1748691661032-97e9ec7c6ff5?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2NzB8MHwxfHNlYXJjaHw0fHxjdXRlJTIwY291cGxlJTIwY2FydG9vbnxlbnwwfHx8fDE3NTY2MjM2OTN8MA&ixlib=rb-4.1.0&q=85" alt="Collection of Hearts">
                        </div>
                        <div class="slide__text">
                            <h2>Collection of Love üíù</h2>
                            <p>Each day with you adds another heart to my collection of beautiful memories. Happy Birthday to my treasure!</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="dreamy-blue">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.unsplash.com/photo-1716988271053-c3d1b8e565e5?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NTY2Njd8MHwxfHNlYXJjaHwzfHxyb21hbnRpYyUyMGhlYXJ0c3xlbnwwfHx8cmVkfDE3NTY2MjQ5NDV8MA&ixlib=rb-4.1.0&q=85" alt="Blue Hearts">
                        </div>
                        <div class="slide__text">
                            <h2>Dreamy Blue Hearts üíô</h2>
                            <p>Like hearts floating in the deep blue Finnish sky, my love for you knows no bounds and reaches beyond the stars.</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="couple-romance">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.pexels.com/photos/2247858/pexels-photo-2247858.jpeg" alt="Romantic Couple">
                        </div>
                        <div class="slide__text">
                            <h2>Perfect Together üë´</h2>
                            <p>We fit together like puzzle pieces under the northern lights, creating a picture more beautiful than any aurora display.</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="sunset-love">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.unsplash.com/photo-1615860783459-b90de23b4b96?crop=entropy&cs=srgb&fm=jpg&ixid=M3w3NDQ2MzR8MHwxfHNlYXJjaHwyfHxjdXRlJTIwY291cGxlfGVufDB8fHx8MTc1NjYyNDk0MHww&ixlib=rb-4.1.0&q=85" alt="Sunset Couple">
                        </div>
                        <div class="slide__text">
                            <h2>Endless Sunsets üåÖ</h2>
                            <p>Every sunset reminds me that endings can be beautiful, but with you, I want endless beginnings. Happy Birthday, my love!</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="heart-celebration">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.pexels.com/photos/11124939/pexels-photo-11124939.jpeg" alt="Heart Celebration">
                        </div>
                        <div class="slide__text">
                            <h2>Celebration of Love üéâ</h2>
                            <p>Today we celebrate not just your birthday, but the amazing person you are and the incredible love we share!</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="sweet-couple">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.pexels.com/photos/1194036/pexels-photo-1194036.jpeg" alt="Sweet Couple">
                        </div>
                        <div class="slide__text">
                            <h2>Sweet Moments üçØ</h2>
                            <p>Life with you is like a sweet Finnish honey cake - each layer reveals new flavors of happiness and love.</p>
                        </div>
                    </div>
                </div>

                <div class="slide" data-theme="romantic-hearts">
                    <div class="slide__content">
                        <div class="slide__image">
                            <img src="https://images.pexels.com/photos/5713553/pexels-photo-5713553.jpeg" alt="Romantic Hearts">
                        </div>
                        <div class="slide__text">
                            <h2>Forever My Love üíñ</h2>
                            <p>As this special day ends, remember that my love for you continues like the endless dance of aurora across the Finnish sky. Happy Birthday, Vaanya!</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="slides__navigation">
                <button class="nav-btn prev-btn">
                    <i class="fa-solid fa-chevron-left"></i>
                </button>
                <div class="slide-counter">
                    <span class="current-slide">1</span> / <span class="total-slides">10</span>
                </div>
                <button class="nav-btn next-btn">
                    <i class="fa-solid fa-chevron-right"></i>
                </button>
            </div>
            
            <div class="slides__close">
                <button class="close-slides">
                    <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>

        <!-- Original Letter Modal -->
        <div class="box__letter">
            <div class="letter__border">
                <div class="letter">
                    <div class="title__letter">
                    </div>
                    <div class="content__letter">
                        <div class="left">
                            <img id="heart__letter" src="https://media.giphy.com/media/YKUvclrGYmDKXwtphf/giphy.gif" alt="">
                            <img class="heart heart_1" style="--t: 0.2s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_2" style="--t: 0.4s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_3" style="--t: 0.6s" width="20" src="./images/heart.png" alt="">
                            <img class="heart heart_4" style="--t: 0.8s" width="20" src="./images/heart.png" alt="">
                        </div>
                        <div class="right">
                            <div class="love__img">
                                <img src="https://media.giphy.com/laN7ZkFIHtURiC/giphy.gif" alt="" width="220">
                            </div>
                            <div class="text__letter">
                                 <p></p>
                            </div>
                       

                        </div>
                        <img id="mewmew" width="80" src="./images/mewmew.gif" alt="">
                    </div>
                </div>
                <div class="close">
                    <i class="fa-solid fa-xmark"></i>
                </div>
            </div>
        </div>
    </div>

  
</body>

<script>
    // Global variables
    let isPlaying = false;
    let birthdayAudio = null;

    // Updated content for Vaanya
    let datetxt = "Special Day for Vaanya ‚ú®";
    let datatxtletter = "My dearest Vaanya, you are the most beautiful aurora in my night sky. Just like the magical northern lights of Finland, you illuminate my world with colors I never knew existed. Your love is like a warm embrace on the coldest Arctic night. Today, I wish you all the happiness, all the adventures, and all the magical moments that life can offer. Happy Birthday to my personal northern star! üíï‚ùÑÔ∏èüåü y dearest Vaanya, you are the most beautiful aurora in my night sky. Just like the magical northern lights of Finland, you illuminate my world with colors I never knew existed. Your love is like a warm embrace on the coldest Arctic night. Today, I wish you all the happiness, all the adventures, and all the magical moments that life can offer. Happy Birthday to my personal northern star! üíï‚ùÑÔ∏èüåü y dearest Vaanya, you are the most beautiful aurora in my night sky. Just like the magical northern lights of Finland, you illuminate my world with colors I never knew existed. Your love is like a warm embrace on the coldest Arctic night. Today, I wish you all the happiness, all the adventures, and all the magical moments that life can offer. Happy Birthday to my personal northern star! üíï‚ùÑÔ∏èüåü y dearest Vaanya, you are the most beautiful aurora in my night sky. Just like the magical northern lights of Finland, you illuminate my world with colors I never knew existed. Your love is like a warm embrace on the coldest Arctic night. Today, I wish you all the happiness, all the adventures, and all the magical moments that life can offer. Happy Birthday to my personal northern star! üíï‚ùÑÔ∏èüåü";
    let titleLetter = "To you my Aurora";
    
    let charArrDate = datetxt.split('');
    let charArrDateLetter = datatxtletter.split('');
    let charArrTitle = titleLetter.split('');
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");

    // Improved Music functionality
    function createAudioContext() {
        try {
            // Create a simple romantic melody using Web Audio API
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            // Set a romantic frequency
            oscillator.frequency.setValueAtTime(440, audioContext.currentTime); // A4 note
            oscillator.type = 'sine';
            
            // Set volume
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            
            return { audioContext, oscillator, gainNode };
        } catch (e) {
            console.log('Web Audio API not supported:', e);
            return null;
        }
    }

    function playMusic() {
        if (!isPlaying) {
            try {
                // Try HTML5 audio first
                const audio = document.getElementById('backgroundMusic');
                if (audio) {
                    audio.volume = 0.3;
                    audio.play().then(() => {
                        birthdayAudio = audio;
                        isPlaying = true;
                        console.log('‚úÖ Music started successfully');
                    }).catch(e => {
                        console.log('HTML5 audio failed, trying alternative:', e);
                        
                        // Fallback to Web Audio API
                        const audioData = createAudioContext();
                        if (audioData) {
                            audioData.oscillator.start();
                            birthdayAudio = audioData;
                            isPlaying = true;
                            console.log('‚úÖ Web Audio API music started');
                        }
                    });
                }
            } catch (e) {
                console.log('Music initialization failed:', e);
            }
        }
    }

    function stopMusic() {
        if (birthdayAudio && isPlaying) {
            try {
                if (birthdayAudio.pause) {
                    // HTML5 Audio
                    birthdayAudio.pause();
                    birthdayAudio.currentTime = 0;
                } else if (birthdayAudio.oscillator) {
                    // Web Audio API
                    birthdayAudio.oscillator.stop();
                    birthdayAudio.audioContext.close();
                }
                isPlaying = false;
                console.log('‚úÖ Music stopped');
            } catch (e) {
                console.log('Error stopping music:', e);
            }
        }
    }

    // Stop music when page is closed/refreshed
    window.addEventListener('beforeunload', function() {
        stopMusic();
    });

    // Date animation
    setTimeout(function(){
        timeDatetxt = setInterval(function(){
            if(currentIndex < charArrDate.length){
                date__of__birth.textContent += charArrDate[currentIndex];
                currentIndex++;
            }
            else{
                let i = document.createElement("i");
                i.className = "fa-solid fa-star"
                document.querySelector(".date__of__birth").prepend(i)
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true))
                clearInterval(timeDatetxt)
            }
        },100)
    },12000)

    var intervalContent;
    var intervalTitle;

    // Main letter button click
    $("#btn__letter").on("click", function(){
        playMusic(); // Start music when button is clicked
        $(".box__letter").slideDown()
        setTimeout(function(){
            $(".letter__border").slideDown();
        },1000)
        setTimeout(function(){
            intervalTitle = setInterval(function(){
                if(currentIndexTitle < charArrTitle.length){
                    document.querySelector(".title__letter").textContent += charArrTitle[currentIndexTitle];
                    let i = document.createElement("i");
                    i.className = "fa-solid fa-heart"
                    document.querySelector(".title__letter").appendChild(i)
                    currentIndexTitle++;
                }
                else{
                    clearInterval(intervalTitle)
                }
            },100)
        },2000)
        setTimeout(function(){
            document.querySelector("#heart__letter").classList.add("animationOp");
            document.querySelector(".love__img").classList.add("animationOp");
            document.querySelector("#mewmew").classList.add("animationOp");
        },2800)
        setTimeout(function(){
            document.querySelectorAll(".heart").forEach((item)=>{
                item.classList.add("animation")
            })
        },3500)
        setTimeout(function(){
            intervalContent = setInterval(function(){
                if(currentIndexLetter < charArrDateLetter.length){
                    text__letter.textContent += charArrDateLetter[currentIndexLetter];
                    currentIndexLetter++;
                }
                else{
                    clearInterval(intervalContent)
                    // Show next button after text is complete
                    setTimeout(function(){
                        document.querySelector(".next-btn-container").style.display = "block";
                        document.querySelector(".next-btn-container").style.animation = "fadeInUp 0.8s ease-out forwards";
                    }, 1000);
                }
            },50)
        },6000)
    })

    // Next button to show slides - FIXED: Always start from slide 1
    $("#btn__next").on("click", function(){
        $(".box__letter").fadeOut();
        $(".slides__container").fadeIn();
        
        // IMPORTANT: Reset to first slide every time
        currentSlideIndex = 0;
        showSlide(0);
        updateSlideTheme();
    });

    // Close letter
    
$(".close").on("click", function(){
    window.location.href = "https://vaibhavseok.github.io/happy_birthday_vaanya/";
});


    // Slide functionality - FIXED: No auto-advance, manual only
    let currentSlideIndex = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;
    const currentSlideSpan = document.querySelector('.current-slide');
    const totalSlidesSpan = document.querySelector('.total-slides');

    totalSlidesSpan.textContent = totalSlides;

    function updateSlideTheme() {
        const currentSlide = slides[currentSlideIndex];
        const theme = currentSlide.dataset.theme;
        const container = document.querySelector('.slides__container');
        
        // Remove all theme classes
        container.className = container.className.replace(/theme-[\w-]+/g, '');
        // Add current theme
        container.classList.add(`theme-${theme}`);
    }

    function showSlide(index) {
        slides.forEach(slide => slide.classList.remove('active'));
        slides[index].classList.add('active');
        currentSlideSpan.textContent = index + 1;
        updateSlideTheme();
    }

    document.querySelector('.next-btn').addEventListener('click', function() {
        currentSlideIndex = (currentSlideIndex + 1) % totalSlides;
        showSlide(currentSlideIndex);
    });

    document.querySelector('.prev-btn').addEventListener('click', function() {
        currentSlideIndex = (currentSlideIndex - 1 + totalSlides) % totalSlides;
        showSlide(currentSlideIndex);
    });

    document.querySelector('.close-slides').addEventListener('click', function() {
        $('.slides__container').fadeOut();
        stopMusic(); // Stop music when slides are closed
    });

    // REMOVED: Auto-advance functionality - slides now move only when clicked

    // Initialize first slide theme
    updateSlideTheme();

    // Enable audio on user interaction (required by browsers)
    document.addEventListener('click', function() {
        if (!window.audioEnabled) {
            const audio = document.getElementById('backgroundMusic');
            if (audio) {
                audio.load(); // Preload audio
                window.audioEnabled = true;
            }
        }
    }, { once: true });
</script>
</html>